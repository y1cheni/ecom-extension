# 🔍 智能圖片匹配系統

專為單口味 vs 多口味商品設計的高精度 AI 圖片匹配瀏覽器插件。

## ✨ 核心功能

### 🎯 智能匹配算法
- **多階段匹配流程**：結合感知哈希、多尺度模板匹配和特徵點檢測
- **單口味 vs 多口味優化**：特別針對商品圖片的部分匹配場景優化
- **自適應閾值**：當初始匹配失敗時自動放寬條件重試

### 🔧 技術特性
1. **感知哈希 (pHash)**：快速粗篩相似圖片
2. **多尺度模板匹配**：支持 0.3x 到 2.0x 的縮放比例
3. **ORB 特徵點檢測**：精確識別局部特徵
4. **混合評分系統**：綜合多種匹配方法的結果

### 🎨 用戶界面
- 現代化響應式設計
- 實時進度顯示
- 視覺化匹配結果
- 詳細的匹配統計信息

## 📋 使用方法

### 1. 準備圖片連結
- **A 組**：要匹配的目標圖片（通常是單口味商品）
- **B 組**：搜索範圍圖片（可能包含多口味商品）
- 每行一個 URL，支持 HTTPS 圖片連結

### 2. 調整參數
- **哈希距離閾值** (預設: 12)：值越小匹配越嚴格
- **模板匹配分數** (預設: 0.78)：模板匹配的最低分數
- **縮放比例列表**：支持的圖片縮放比例

### 3. 開始匹配
點擊「🚀 開始智能匹配」按鈕，系統將：
1. 載入並預處理所有圖片
2. 使用 pHash 進行快速篩選
3. 對候選圖片進行精確匹配
4. 顯示詳細的匹配結果

## 📊 結果解讀

### 匹配狀態
- ✅ **成功匹配**：找到相似圖片
- ❌ **未匹配**：未找到相似圖片  
- ⚠️ **錯誤**：圖片載入或處理失敗

### 匹配信息
- **方法**：使用的匹配算法 (hybrid/template/feature)
- **分數**：綜合匹配分數 (0-1)
- **信心度**：匹配可信度 (0-1)
- **縮放比例**：最佳匹配時的圖片縮放比例

## 🛠️ 安裝說明

### Chrome 瀏覽器
1. 下載插件文件到本地資料夾
2. 開啟 Chrome，前往 `chrome://extensions/`
3. 開啟「開發者模式」
4. 點擊「載入未封裝項目」
5. 選擇插件資料夾

### 使用要求
- 現代瀏覽器 (Chrome 88+, Firefox 78+)
- 網路連線 (載入 OpenCV.js)
- 圖片需支援 CORS 或使用相同來源

## 🔧 技術細節

### 核心技術棧
- **OpenCV.js 4.8.0**：電腦視覺處理
- **HTML5 Canvas**：圖片預處理
- **ES2020 JavaScript**：現代 JavaScript 特性

### 匹配流程
```
圖片載入 → 灰度轉換 → 直方圖均衡化 → pHash 計算
    ↓
pHash 距離篩選 → 候選圖片集合
    ↓
多尺度模板匹配 + ORB 特徵點檢測
    ↓
綜合評分 → 最終匹配結果
```

### 性能優化
- 圖片快取機制
- 多尺度並行處理
- 記憶體自動管理
- 錯誤恢復機制

## 🎯 適用場景

### 電商平台
- 商品圖片去重
- 相似商品檢測
- 庫存圖片匹配

### 品牌保護
- 仿冒商品識別
- 授權圖片驗證
- 版權侵權檢測

### 內容管理
- 重複圖片清理
- 圖片分類整理
- 素材庫管理

## 📈 版本歷史

### v1.0.0 (2024-01)
- 🎉 首次發布
- ✨ 多階段智能匹配算法
- 🎨 現代化用戶界面
- 📊 詳細匹配結果展示
- 🔧 完整的錯誤處理機制

## 🤝 技術支援

如有問題或建議，請通過以下方式聯繫：
- 提交 GitHub Issue
- 發送技術支援郵件
- 查看在線文檔

---

**注意**：此工具需要網路連線以載入 OpenCV.js 庫，首次使用時可能需要等待幾秒鐘進行初始化。
